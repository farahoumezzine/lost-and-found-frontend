<div class="login-container">
  <div class="login-box">
    <h2 style="text-align: center;">Connection</h2>
    
    <form #f="ngForm" (ngSubmit)="onSubmit(f)">
      <!-- Email -->
      <div class="form-group" [class.error]="email.invalid && email.touched" [class.success]="email.valid && email.touched">
        <label for="email">Email</label>
        <div class="input-wrapper">
          <input type="email" id="email" name="email" required email ngModel #email="ngModel">
          <i class="validation-icon fas" 
             [class.fa-times-circle]="email.invalid && email.touched"
             [class.fa-check-circle]="email.valid && email.touched">
          </i>
        </div>
        <div class="error-message" *ngIf="email.invalid && email.touched">
          <i class="fas fa-exclamation-circle"></i>
          <span *ngIf="email.errors?.['required']">Email is required</span>
          <span *ngIf="email.errors?.['email']">Invalid email format</span>
        </div>
      </div>

      <!-- Mot de passe -->
      <div class="form-group" [class.error]="password.invalid && password.touched">
        <label for="password">Password</label>
        <input 
          type="password" 
          id="password" 
          name="password" 
          required
          minlength="6"
          placeholder="Enter your password" 
          ngModel 
          #password="ngModel">
        <div class="error-message" *ngIf="password.invalid && password.touched">
          <span *ngIf="password.errors?.['required']">Password is required</span>
          <span *ngIf="password.errors?.['minlength']">Password must contain at least 6 characters</span>
        </div>
      </div>

      <!-- Message de succÃ¨s -->
      <div class="success-message" *ngIf="showSuccess">
        <i class="fas fa-check-circle"></i>
        <span>Connection successful! Redirecting...</span>
      </div>

      <!-- Message d'erreur global -->
      <div class="global-error" *ngIf="errorMessage">
        <i class="fas fa-exclamation-circle"></i>
        <span>{{ errorMessage }}</span>
      </div>

      <!-- Bouton de connexion -->
      <button type="submit" [disabled]="f.invalid || loading">
        <span *ngIf="!loading">Sign In</span>
        <div class="loading-spinner" *ngIf="loading"></div>
      </button>

      <!-- Liens utiles -->
      <div class="links">
        <a routerLink="/forgot-password">Forgotten password ?</a>
        <p>No account yet ? <a routerLink="/register">Create an account</a></p>
      </div>
    </form>
  </div>
</div>