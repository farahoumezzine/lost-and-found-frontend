<div class="register-container" style=" display: flex;
justify-content: center;
align-items: center;
min-height: 100vh;
background-color: #f5f5f5;">

  <div class="register-box" style="background: white;
  padding: 2rem;
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
  width: 100%;
  max-width: 400px;">
    <div class="register-header">
      <h2 style="text-align: center;">Create an account</h2>
    
    </div>
    
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <div class="form-group" [class.error]="registerForm.get('username')?.invalid && registerForm.get('username')?.touched" 
      style="margin-bottom: 1rem;">
        <label for="username">
        Username
        </label>
        <input 
          type="text" 
          id="username" 
          formControlName="username"
          placeholder="Enter your username">
        <div class="error-container" *ngIf="registerForm.get('username')?.touched">
          <small class="error-message" *ngIf="registerForm.get('username')?.errors?.['required']">
            <i class="fas fa-exclamation-circle"></i>
            Name is required
          </small>
        </div>
      </div>

      <div class="form-group" [class.error]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
        <label for="email">
          E-mail
        </label>
        <input 
          type="email" 
          id="email" 
          formControlName="email"
          placeholder="example@email.com">
        <div class="error-container" *ngIf="registerForm.get('email')?.touched">
          <small class="error-message" *ngIf="registerForm.get('email')?.errors?.['email']">
           
            Invalid email format
          </small>
        </div>
      </div>

      <div class="form-group" [class.error]="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
        <label for="password">
       
          Password
        </label>
        <div class="password-input">
          <input 
            [type]="showPassword ? 'text' : 'password'"
            id="password" 
            formControlName="password"
            placeholder="Minimum 6 characters" >
        
        </div>
        <div class="error-container" *ngIf="registerForm.get('password')?.touched">
          <small class="error-message" *ngIf="registerForm.get('password')?.errors?.['minlength']">
            <i class="fas fa-exclamation-circle"></i>
              Password must contain at least 6 characters
          </small>
        </div>
      </div>

      <div class="form-group" [class.error]="registerForm.get('role')?.invalid && registerForm.get('role')?.touched">
        <label for="role">
         
          Role
        </label>
        <select 
          id="role" 
          formControlName="role"
          class="role-select">
          <option value="">Select a role</option>
          <option value="user">User</option>
          <option value="admin">Admin</option>
        </select>
      </div>

      <div class="global-error" *ngIf="errorMessage">
        <i class="fas fa-exclamation-triangle"></i>
        {{ errorMessage }}
      </div>

      <button type="submit" [disabled]="registerForm.invalid || loading">
       
        {{ loading ? 'Registration in progress...' : 'Sign up' }}
      </button>

      <div class="links">
        <p>Already registered ? <a routerLink="/login">Sign in here</a></p>
      </div>
    </form>
  </div>
</div>


<style>
 .register-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background-color: #f5f5f5;
  padding: 20px;
}

.register-box {
  background: white;
  padding: 2rem;
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
  width: 100%;
  max-width: 400px;

}

.register-header {
  text-align: center;
  margin-bottom: 40px;
}

h2 {
  color: #2c3e50;
  font-size: 28px;
  margin-bottom: 10px;
}

.subtitle {
  color: #7f8c8d;
  font-size: 16px;
}

.form-group {
  margin-bottom: 24px;
  position: relative;
}

label {
  display: block;
  margin-bottom: 8px;
  color: #34495e;
  font-weight: 500;
  font-size: 14px;
}

label i {
  margin-right: 8px;
  color: #3498db;
}

input, select {
  width: 100%;
  padding: 12px 16px;
  border: 2px solid #e0e0e0;
  border-radius: 8px;
  font-size: 15px;
  transition: all 0.3s ease;
  background-color: #f8f9fa;
}

input:focus, select:focus {
  border-color: #3498db;
  background-color: #fff;
  box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
}

.form-group.error input,
.form-group.error select {
  border-color: #e74c3c;
  background-color: #fff9f9;
}

.error-container {
  margin-top: 6px;
  min-height: 20px;
}

.error-message {
  color: #e74c3c;
  font-size: 12px;
  display: flex;
  align-items: center;
  animation: slideIn 0.3s ease-out;
}

.error-message i {
  margin-right: 6px;
}

.password-input {
  position: relative;
}

.password-toggle {
  position: absolute;
  right: 16px;
  top: 50%;
  transform: translateY(-50%);
  cursor: pointer;
  color: #95a5a6;
}

.password-toggle:hover {
  color: #34495e;
}

.global-error {
  background-color: #fde8e8;
  color: #e74c3c;
  padding: 12px;
  border-radius: 8px;
  margin-bottom: 20px;
  display: flex;
  align-items: center;
  animation: shake 0.5s ease-in-out;
}

.global-error i {
  margin-right: 8px;
}

button {
  width: 100%;
  padding: 14px;
  background: #3498db;
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 8px;
}

button:hover:not(:disabled) {
  background: #2980b9;
  transform: translateY(-1px);
}

button:disabled {
  background-color: #bdc3c7;
  cursor: not-allowed;
}

.links {
  text-align: center;
  margin-top: 24px;
  color: #7f8c8d;
}

.links a {
  color: #3498db;
  text-decoration: none;
  font-weight: 500;
  transition: color 0.3s ease;
}

.links a:hover {
  color: #2980b9;
  text-decoration: underline;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideIn {
  from { opacity: 0; transform: translateX(-10px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  75% { transform: translateX(5px); }
}

@media (max-width: 576px) {
  .register-box {
    padding: 24px;
  }

  h2 {
    font-size: 24px;
  }

  input, select, button {
    padding: 12px;
  }
}
</style>